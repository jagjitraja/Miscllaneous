<!DOCTYPE html>

<html>
<head>
</head>

<body>
    <h1>iFrame, and Asynchronous Communication</h1>
    <hr>
    <br>
    <div>
        <h2>Display a web site in a child iframe</h2>
        <button><a href='//cs.tru.ca' target ='iframe_cs'>cs.tru.ca</a></button> 
        <br><br>
        <iframe name = 'iframe_cs' style='width:100%; height: 300px'></iframe>
    </div>
    <br>
    <hr>
    <br>
    <div>
        <h2>Addition using asynchronous communication with iframe</h2>
        
        <form method='get' action= 'test_iframe_async_comm_student.php' target ='iframe_async_comm'>
            <input name='number1' type='text'>
            + 
            <input name='number2' type='text'>
            <input type='submit' value=' = '>
            <input id='result' type='text'>
        </form>
        
        <!-- invisible iframe -->
        <iframe id='iframe_acomm' name ='iframe_async_comm' style='display:none'></iframe>
        
        <script>
            // Whenever the iframe is fully loaded, get the result and display in 'result'.
            document.getElementById('iframe_acomm').addEventListener('load', function() {
                document.getElementById('result').value = 
                    document.getElementById('iframe_acomm').contentWindow.result;
                    /* '<script> var result = ...; /script>' is coming from the server script into the iframe. */
            });
        </script>
    </div>
</body>
</html>
